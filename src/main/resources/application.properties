spring.application.name=sso
server.port=8081

# -----------------------------
# Keycloak / OAuth2 settings
# Replace the placeholders below (your-realm, your-client-id, your-client-secret,
# and auth server URL) with values from your Keycloak instance.
# Use the `spring.security.oauth2.resourceserver.jwt.issuer-uri` setting to
# configure JWT validation for API endpoints (resource server).
# If the application also needs to act as an OAuth2 client (SSO login), the
# `spring.security.oauth2.client.*` registration/provider settings are provided.
# -----------------------------

# Keycloak server / realm
keycloak.auth-server-url=http://localhost:9090/auth
keycloak.realm=Demo-Realm

# OAuth2 client registration (for web login / SSO). Optional for pure API resource server.
spring.security.oauth2.client.registration.keycloak.client-id=book-store
spring.security.oauth2.client.registration.keycloak.client-secret=<secret-from-keycloak>
spring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.keycloak.redirect-uri=http://localhost:8081/home
spring.security.oauth2.client.provider.keycloak.issuer-uri=http://localhost:9090/realms/Demo-Realm

# Resource server (API protection) - validates incoming JWTs issued by Keycloak
spring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:9090/realms/Demo-Realm

# Optional: audience claim expected in incoming tokens (uncomment and set if used)
#spring.security.oauth2.resourceserver.jwt.audiences=api-audience

# Devtools: enable restart and LiveReload for development
# (default is enabled, but we declare explicitly for clarity)
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true

# Optional: additional files or folders to monitor for restart (comma separated)
#spring.devtools.restart.additional-paths=src/main/resources,src/main/java

# Enable verbose Spring Security logging (use DEBUG for development only)
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.security.web=DEBUG
logging.level.org.springframework.security.oauth2=DEBUG

# You can also enable Spring Security debug mode (prints security filter chain info)
# WARNING: do not enable in production
#spring.security.debug=true

